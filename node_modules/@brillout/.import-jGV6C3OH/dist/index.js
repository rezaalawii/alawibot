"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.import_ = void 0;
exports.default = import_;
const path_1 = __importDefault(require("path"));
function import_(id) {
    id = fixWindowsBug(id);
    return import(/*webpackIgnore: true*/ id);
}
exports.import_ = import_;
// Avoid:
// ```
// Error [ERR_UNSUPPORTED_ESM_URL_SCHEME]: Only file and data URLs are supported by the default ESM loader. On Windows, absolute paths must be valid file:// URLs. Received protocol 'd:'
// ```
// https://stackoverflow.com/questions/69665780/error-err-unsupported-esm-url-scheme-only-file-and-data-urls-are-supported-by/70057245#70057245
const prefix = 'file://';
function fixWindowsBug(id) {
    if (process.platform === 'win32' && path_1.default.isAbsolute(id) && !id.startsWith(prefix)) {
        return prefix + id;
    }
    else {
        return id;
    }
}
